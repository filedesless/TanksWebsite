(this.webpackJsonptanks=this.webpackJsonptanks||[]).push([[0],{22:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},25:function(t,e,n){t.exports=n(41)},30:function(t,e,n){},31:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n.n(r),o=n(14),i=n.n(o),s=(n(30),n(31),n(6)),u=n(8),l=n(11),h=n(9),f=n(12),m=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).timerID=void 0,n.state={date:new Date},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.setState({date:new Date})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Hello world"),c.a.createElement("h3",null,this.state.date.toLocaleTimeString()))}}]),e}(c.a.Component),p=function t(e){var n=this;Object(s.a)(this,t),this.gold=void 0,this.silver=void 0,this.copper=void 0,this.toString=function(){return"".concat(n.gold,"g ").concat(n.silver,"s ").concat(n.copper,"c")},this.gold=Math.floor(e/1e4),this.silver=Math.floor(e/100%100),this.copper=e%100},d=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).state=void 0,n.state={chests:[]},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat("https://api.guildwars2.com/v2","/guild/").concat("7311D77B-E708-EA11-81AA-A77AA130EAB8","/stash?access_token=").concat("80C77C67-C099-6247-B918-E1923A826C088E44B09F-C6A8-4F6F-95DC-6997446B06F6")).then((function(t){return t.json()})).then((function(e){console.log(e);var n=e.map((function(t){return{id:t.upgrade_id,coins:new p(t.coins),name:t.note}}));t.setState({chests:n})}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"Guild chest list"),c.a.createElement("ul",null,this.state.chests.map((function(t){return c.a.createElement("li",{key:t.id},t.name,": ",t.coins.toString())}))))}}]),e}(c.a.Component),v=n(13),E=n.n(v),g=n(20),w=n(22),b=n.n(w),k="80C77C67-C099-6247-B918-E1923A826C088E44B09F-C6A8-4F6F-95DC-6997446B06F6";function y(t){return t.split(".").slice(0,-1).join("")}function A(t){var e=new Map;t.forEach((function(t){switch(t.operation){case a.Deposit:e.set(t.user,(e.get(t.user)||0)+t.coins);break;case a.Withdraw:e.set(t.user,(e.get(t.user)||0)-t.coins)}}));var n=[];return e.forEach((function(t,e){n.push({username:e,coins:t})})),n.sort((function(t,e){return t.coins<e.coins?1:-1})),n}function j(){return O.apply(this,arguments)}function O(){return(O=Object(g.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat("https://api.guildwars2.com/v2","/guild/").concat("7311D77B-E708-EA11-81AA-A77AA130EAB8","/log?access_token=").concat(k)).then((function(t){return t.json()})).then((function(t){return t.filter((function(t){return"stash"===t.type}))})).then((function(t){return t.filter((function(t){return t.operation===a.Deposit||t.operation===a.Withdraw}))})).then((function(t){return t.filter((function(t){return 0!==t.coins}))})).then((function(t){return t.map((function(t){return t.user=y(t.user),t}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(t){t.Deposit="deposit",t.Withdraw="withdraw"}(a||(a={}));var D=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).state=void 0,n.state={logs:[],contributors:[]},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=Object(g.a)(E.a.mark((function t(){var e,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:e=t.sent,n=A(e),this.setState({logs:e,contributors:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"Treasury access logs"),0===this.state.logs.length?c.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}):c.a.createElement("ul",null,this.state.logs.map((function(t){return c.a.createElement("li",{key:t.id},function(t){var e=t.operation===a.Deposit?"deposited":"withdrawed",n=new Date(t.time).toLocaleString();return"".concat(n," - ").concat(t.user," ").concat(e," ").concat(new p(t.coins).toString())}(t))}))),c.a.createElement("h3",null,"Scoreboard"),c.a.createElement("ul",null,this.state.contributors.map((function(t){return c.a.createElement("li",{key:t.username},"".concat((e=t).username,": ").concat(new p(e.coins).toString()));var e}))))}}]),e}(c.a.Component),C=n(24),B=n(18);n(33);var S=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(C.a,{id:"main",defaultActiveKey:"clock"},c.a.createElement(B.a,{id:"tab-clock",eventKey:"clock",title:"Clock"},c.a.createElement(m,null)),c.a.createElement(B.a,{id:"tab-stash",eventKey:"stash",title:"Stash"},c.a.createElement(d,null)),c.a.createElement(B.a,{id:"tab-treasury",eventKey:"treasury",title:"TreasuryLog"},c.a.createElement(D,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.51c7d08d.chunk.js.map